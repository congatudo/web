<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>sensor on FreeCon.ga</title><link>https://freecon.ga/tags/sensor/</link><description>Recent content in sensor on FreeCon.ga</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Thu, 09 Dec 2021 15:30:29 +0100</lastBuildDate><atom:link href="https://freecon.ga/tags/sensor/index.xml" rel="self" type="application/rss+xml"/><item><title>Get area&amp;time in Home Assistant from Valetudo</title><link>https://freecon.ga/blog/get-area-and-time-in-ha-from-valetudo/</link><pubDate>Thu, 09 Dec 2021 15:30:29 +0100</pubDate><guid>https://freecon.ga/blog/get-area-and-time-in-ha-from-valetudo/</guid><description>Goal Get Home Assistant sensors from Valetudo to measure time and area last cleaning
Requirements Valetudo integrated into Home assistant Api Swagger available (For congatudo, just add a valid port for webui in the addon configuration) Valetudo should have a fixed IP Steps In configuration.yaml add the code below to get sensors build from the valetudo api every 5 seconds
rest:- scan_interval:5resource:&amp;#34;http://&amp;lt;valetudo_or_ha_ip&amp;gt;:&amp;lt;valetudo_port&amp;gt;/api/v2/robot/state/attributes&amp;#34;sensor:- name:&amp;#34;Vacuum last clean area&amp;#34;value_template:&amp;#34;{{ value_json[4][&amp;#39;value&amp;#39;] }}&amp;#34;state_class:&amp;#34;measurement&amp;#34;json_attributes_path:&amp;#34;$[4]&amp;#34;json_attributes:- __class- metadata- type- value- name:&amp;#34;Vacuum last clean duration&amp;#34;value_template:&amp;#34;{{ value_json[3][&amp;#39;value&amp;#39;] }}&amp;#34;device_class:&amp;#34;timestamp&amp;#34;state_class:&amp;#34;total&amp;#34;json_attributes_path:&amp;#34;$[3]&amp;#34;json_attributes:- __class- metadata- type- valueNow, you have sensors for both time and area measures but just in default units, so in order to get them in human readable units, you are able to build virtual templated sensors.</description></item><item><title>Clean Me</title><link>https://freecon.ga/blog/clean-me/</link><pubDate>Sat, 06 Nov 2021 19:16:24 +0100</pubDate><guid>https://freecon.ga/blog/clean-me/</guid><description>Goal Get your vacuum close to your bin once the tank is full
Requirements Valetudo integrated into Home assistant Tank percentage sensor available (i.e. with this tuto) A defined spot in valetudo Steps Once the tank percentage sensor is available, this automation is easy just taking care about the actions you may need. We are going to trigger this action every time the vacuum is in the dock for more than 1h, but it will trigger just in case of the tank percentage sensor above of 100.</description></item><item><title>Time and Tank Virtual Sensors</title><link>https://freecon.ga/blog/time-and-tank-virtual-sensors/</link><pubDate>Sat, 06 Nov 2021 18:57:12 +0100</pubDate><guid>https://freecon.ga/blog/time-and-tank-virtual-sensors/</guid><description>Goal Valetudo is so great, but its home assistant integration miss out some good sensors like the time, area and tank fill percentage.
With this guide, you are going to learn how to create virtual sensor to get the cleaning time and tank percentage based on this time.
Requirements Valetudo integrated into Home assistant Steps Create one input date time helper. In this example the helper will be called RobotStartCleaningTime, being an date and time helper, so the id of this helper will be: input_datetime.</description></item></channel></rss>